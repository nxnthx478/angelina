<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>Маникюр — Визитка (Оптимизировано)</title>
<meta name="description" content="Быстрая визитка мастера маникюра: liquid glass, фиолетовые переливы, оптимизировано для телефонов." />
<style>
:root{
  --bg:#06010a;
  --accent1:285; /* фиолет */
  --accent2:320; /* розовый */
  --accent3:250; /* синий-фиолет */
  --glass-bg: rgba(255,255,255,0.06);
  --glass-border: rgba(255,255,255,0.12);
  --text:#fff;
  --muted: rgba(255,255,255,0.78);
  --card-w: 420px;
}

/* reset */
*{box-sizing:border-box}
html,body{height:100%;margin:0;background:var(--bg);color:var(--text);font-family:Inter, "Segoe UI", Roboto, system-ui, sans-serif;-webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;}
a{color:inherit;text-decoration:none}

/* --- Background blobs (GPU) --- */
.bg-blobs{position:fixed;inset:0;z-index:-3;pointer-events:none;overflow:hidden;transform:translateZ(0);}
.blob{
  position:absolute;width:68vmax;height:68vmax;border-radius:50%;
  filter: blur(84px) saturate(140%); mix-blend-mode:screen; opacity:0.78;
  will-change:transform;
}
.b1{ left:-22%; top:-28%; background:
  radial-gradient(circle at 30% 30%, hsla(var(--accent1),95%,64%,0.36), transparent 40%),
  radial-gradient(circle at 70% 70%, hsla(var(--accent2),95%,54%,0.12), transparent 55%);
  animation: b1 20s ease-in-out infinite; }
.b2{ right:-18%; bottom:-26%; background:
  radial-gradient(circle at 40% 40%, hsla(var(--accent2),95%,56%,0.34), transparent 40%),
  radial-gradient(circle at 10% 80%, hsla(var(--accent3),95%,52%,0.09), transparent 55%);
  animation: b2 24s ease-in-out infinite; }
.b3{ left:6%; bottom:-36%; background:
  radial-gradient(circle at 40% 40%, hsla(var(--accent3),95%,56%,0.26), transparent 40%),
  radial-gradient(circle at 60% 80%, hsla(var(--accent1),95%,54%,0.06), transparent 55%);
  animation: b3 22s ease-in-out infinite; }

@keyframes b1 {0%{transform:translate3d(0,0,0) scale(1)}50%{transform:translate3d(6vmin,-4vmin,0) scale(1.03)}100%{transform:translate3d(0,0,0) scale(1)}}
@keyframes b2 {0%{transform:translate3d(0,0,0) scale(1)}50%{transform:translate3d(-8vmin,6vmin,0) scale(1.04)}100%{transform:translate3d(0,0,0) scale(1)}}
@keyframes b3 {0%{transform:translate3d(0,0,0) scale(1)}50%{transform:translate3d(4vmin,6vmin,0) scale(1.02)}100%{transform:translate3d(0,0,0) scale(1)}}

/* --- Canvas layers (particles and subtle waves) --- */
canvas.layer {
  position:fixed; inset:0; z-index:-2; pointer-events:none; width:100%; height:100%;
  display:block;
}

/* --- Content --- */
.app { min-height:100%; display:flex; align-items:center; justify-content:center; padding:22px; }
.card {
  width:min(94vw,var(--card-w));
  border-radius:16px; padding:18px; position:relative; z-index:10;
  background:var(--glass-bg); border:1px solid var(--glass-border);
  backdrop-filter: blur(14px) saturate(150%); -webkit-backdrop-filter: blur(14px) saturate(150%);
  box-shadow: 0 14px 40px rgba(0,0,0,0.6);
  transition: transform 360ms cubic-bezier(.2,.9,.2,1), box-shadow 300ms;
  transform-origin:center;
}
.card::before{
  content:""; position:absolute; inset:-2px; border-radius:18px;
  background: linear-gradient(90deg, rgba(255,0,255,0.05), rgba(255,255,255,0.01), rgba(0,200,255,0.05));
  filter:blur(10px); z-index:-1; pointer-events:none;
}
.header{text-align:center;margin-bottom:8px}
.avatar{width:112px;height:112px;border-radius:50%;margin:0 auto;overflow:hidden;border:3px solid rgba(255,255,255,0.26); background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));box-shadow:0 10px 26px rgba(255,0,255,0.08)}
.avatar img{width:100%;height:100%;object-fit:cover;display:block}
.placeholder{width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:rgba(255,255,255,0.78);font-weight:700;font-size:18px}
.title{font-size:1.45rem;font-weight:700;margin-top:12px;margin-bottom:6px}
.subtitle{font-size:0.95rem;color:var(--muted);margin-bottom:10px}

/* links */
.links{display:flex;flex-direction:column;gap:10px;margin-top:6px}
.link{
  display:flex;align-items:center;gap:12px;padding:12px 14px;border-radius:12px;
  background:linear-gradient(180deg, rgba(255,255,255,0.035), rgba(255,255,255,0.02));
  border:1px solid rgba(255,255,255,0.06); transition:transform .18s ease, box-shadow .18s ease;
  text-decoration:none;color:var(--text);font-weight:700;overflow:hidden;position:relative;
}
.link:hover{transform:translateY(-6px);box-shadow:0 18px 45px rgba(255,0,255,0.09)}
.link::after{content:"";position:absolute;top:-120%;left:-60%;width:220%;height:220%;background:linear-gradient(120deg, rgba(255,255,255,0.06), rgba(255,255,255,0.01));transform:rotate(20deg);transition:transform .6s}
.link:hover::after{transform:translateX(48%) rotate(20deg)}
.ico{width:36px;height:36px;min-width:36px;border-radius:9px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg, rgba(255,0,255,0.14), rgba(255,200,255,0.06));border:1px solid rgba(255,255,255,0.04)}

.note{text-align:center;margin-top:12px;font-size:12px;color:rgba(255,255,255,0.54)}

/* responsive */
@media (max-width:420px){ .avatar{width:98px;height:98px} .title{font-size:1.2rem} .link{padding:11px 12px} }

/* reduced motion */
@media (prefers-reduced-motion: reduce){ .blob, .card, .link { animation:none !important; transition:none !important } canvas.layer{display:none} }
</style>
</head>
<body>

<!-- CSS blobs -->
<div class="bg-blobs" aria-hidden="true">
  <div class="blob b1"></div>
  <div class="blob b2"></div>
  <div class="blob b3"></div>
</div>

<!-- Canvas layers (particles = light) -->
<canvas id="particlesCanvas" class="layer" aria-hidden="true"></canvas>
<canvas id="wavesCanvas" class="layer" aria-hidden="true" style="opacity:0.12"></canvas>

<!-- content -->
<div class="app">
  <main class="card" id="card" role="main" aria-label="Визитка мастера маникюра">
    <header class="header">
      <div class="avatar" id="avatar">
        <img id="avatarImg" src="avatar.jpg" alt="Аватар" onerror="this.style.display='none'">
        <div class="placeholder" id="avatarPlaceholder"></div>
      </div>
      <div class="title">Ангелина Казанова -Lashmaker</div>
      <div class="subtitle">✨ Твои идеальные ресницы</div>
    </header>

    <nav class="links" aria-label="Ссылки">
      <a class="link" id="btnInsta" href="https://www.instagram.com/nikolashes.a?igsh=MWxzb2xwdzExemVldQ=="><span class="ico" aria-hidden="true">IG</span> Instagram Рабочий</a>
      <a class="link" id="btnTGgroup" href="https://www.instagram.com/kazanova.angelinaa?igsh=Nmt1cTl6eml2dXNp"><span class="ico" aria-hidden="true">I</span> Instagram Личный
      <a class="link" id="btnTG" href="https://t.me/tstyleangren"><span class="ico" aria-hidden="true">TG</span> Telegram — Личный</a>
    </nav>
  </main>
</div>

<script>
/* ======== Optimization-minded particle/wave renderer =========
 - Small particle count (auto-scale)
 - No heavy shadowBlur or canvas filter
 - FPS cap and RAF throttling
 - Pause when page hidden or prefers-reduced-motion
=============================================================*/

const particlesCanvas = document.getElementById('particlesCanvas');
const wavesCanvas = document.getElementById('wavesCanvas');
const avatarImg = document.getElementById('avatarImg');
const avatarPlaceholder = document.getElementById('avatarPlaceholder');
const prefersReduced = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
let dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
let hwThreads = navigator.hardwareConcurrency || 2;

// fit canvas to window, set transform for DPR
function fitCanvas(canvas){
  const ctx = canvas.getContext('2d');
  const w = Math.max(1, Math.floor(window.innerWidth));
  const h = Math.max(1, Math.floor(window.innerHeight));
  canvas.style.width = w + 'px';
  canvas.style.height = h + 'px';
  canvas.width = Math.floor(w * dpr);
  canvas.height = Math.floor(h * dpr);
  ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
  return ctx;
}

let pCtx = fitCanvas(particlesCanvas);
let wCtx = fitCanvas(wavesCanvas);

// compute safe particle count based on device
function computeCount(){
  // base by screen area
  const area = window.innerWidth * window.innerHeight;
  let base = 30; // default visually pleasant
  if (area < 360000) base = 18;
  else if (area < 720000) base = 26;
  else base = 36;
  // reduce on low cores / high DPR
  const cpuFactor = Math.max(0.5, Math.min(1.4, hwThreads / 4));
  const dprFactor = 1 / dpr;
  let count = Math.round(base * cpuFactor * dprFactor);
  // if low perf UA -> clamp down
  const ua = navigator.userAgent || '';
  if (/UCBrowser|Opera Mini|Android\s[1-6]/i.test(ua) || hwThreads <= 1) count = Math.max(10, Math.round(count * 0.5));
  // respect reduced motion
  if (prefersReduced) count = 0;
  return Math.max(0, Math.min(80, count));
}

let particleCount = computeCount();
let particles = [];

// create particles lightweight
function initParticles(){
  particles = [];
  particleCount = computeCount();
  const W = window.innerWidth, H = window.innerHeight;
  for (let i=0;i<particleCount;i++){
    const t = Math.random() < 0.07 ? 'spark' : 'soft';
    particles.push({
      x: Math.random()*W,
      y: Math.random()*H,
      r: (t==='spark') ? (Math.random()*1.8+0.6) : (Math.random()*2.8+0.8),
      hue: 260 + Math.random()*80,
      alpha: 0.18 + Math.random()*0.8,
      vx: (Math.random()-0.5)*0.12,
      vy: (Math.random()-0.5)*0.12,
      type: t,
      wob: Math.random()*120
    });
  }
}

// draw particles - simple circle with additive blending, no shadowBlur
function drawParticles(now){
  const ctx = pCtx;
  const W = window.innerWidth, H = window.innerHeight;
  ctx.clearRect(0,0,W,H);
  if (!particles.length) return;
  ctx.globalCompositeOperation = 'lighter';
  for (let p of particles){
    // gentle movement
    p.vx += Math.sin((p.x*0.003) + now*0.0007 + p.wob)*0.0006;
    p.vy += Math.cos((p.y*0.003) + now*0.0009 + p.wob)*0.0006;
    p.vx *= 0.995; p.vy *= 0.995;
    p.x += p.vx * (now.deltaFactor || 1);
    p.y += p.vy * (now.deltaFactor || 1);

    // wrap
    if (p.x < -20) p.x = W + 20;
    if (p.x > W + 20) p.x = -20;
    if (p.y < -20) p.y = H + 20;
    if (p.y > H + 20) p.y = -20;

    // draw core, then soft outer using one extra circle with low alpha (cheap)
    const hue = p.hue + Math.sin((now.t*0.0008) + p.wob) * 6;
    const a = p.alpha * (0.55 + 0.45 * Math.sin((now.t*0.002) + p.wob));
    // core
    ctx.beginPath();
    ctx.fillStyle = `hsla(${hue},95%,65%,${Math.min(1,a*0.95)})`;
    ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
    ctx.fill();
    // soft outer (single extra circle to simulate glow)
    ctx.beginPath();
    ctx.fillStyle = `hsla(${hue+18},95%,56%,${Math.max(0, a*0.16)})`;
    ctx.arc(p.x, p.y, p.r*3.2, 0, Math.PI*2);
    ctx.fill();
  }
  ctx.globalCompositeOperation = 'source-over';
}

// subtle waves - simple wide translucent strokes (cheap)
function drawWaves(now){
  const ctx = wCtx;
  const W = window.innerWidth, H = window.innerHeight;
  ctx.clearRect(0,0,W,H);
  // light tint
  ctx.fillStyle = 'rgba(6,3,10,0.06)';
  ctx.fillRect(0,0,W,H);

  ctx.globalCompositeOperation = 'screen';
  for (let i=0;i<2;i++){
    ctx.beginPath();
    const amp = 12 + i*6;
    const offset = (i-0.5)*40;
    for (let x=0;x<=W;x+=18){
      const y = H*0.5 + Math.sin((x*0.008) + now.t*0.0006 + i) * amp + offset;
      if (x===0) ctx.moveTo(x,y); else ctx.lineTo(x,y);
    }
    const hue = 250 + i*28;
    const g = ctx.createLinearGradient(0,H*0.4,0,H*0.6);
    g.addColorStop(0, `hsla(${hue},92%,64%,0.06)`);
    g.addColorStop(1, `hsla(${hue+38},92%,52%,0.02)`);
    ctx.strokeStyle = g;
    ctx.lineWidth = 110 - i*24;
    ctx.stroke();
  }
  ctx.globalCompositeOperation = 'source-over';
}

/* ======= Animation loop with FPS cap and throttling ======= */
let last = performance.now();
let raf = null;
let visible = !document.hidden;
let targetFPS = 50; // try to aim 50, clamp below for weak devices
if (hwThreads <= 1) targetFPS = 30;
if (prefersReduced) targetFPS = 0; // no animation

let frameInterval = 1000 / Math.max(1, targetFPS);
let acc = 0;

// pause when not visible or reduced-motion
document.addEventListener('visibilitychange', () => { visible = !document.hidden; if (!visible) return; last = performance.now(); });

function loop(nowTime){
  raf = requestAnimationFrame(loop);
  if (!visible || prefersReduced) return;
  const delta = nowTime - last;
  last = nowTime;
  acc += delta;

  // scale factor based on delta to keep movement speed similar across frame drops
  const deltaFactor = Math.min(3, delta / (1000/60));

  if (acc < frameInterval) return;
  acc = 0;

  const now = {t: nowTime, deltaFactor};

  // draw light stuff
  drawWaves(now);
  drawParticles(now);
}

// start/stop helpers
function startLoop(){
  if (raf) cancelAnimationFrame(raf);
  last = performance.now();
  acc = 0;
  raf = requestAnimationFrame(loop);
}
function stopLoop(){
  if (raf) cancelAnimationFrame(raf);
  raf = null;
}

window.addEventListener('resize', () => {
  // debounce
  clearTimeout(window._resizeTO);
  window._resizeTO = setTimeout(() => {
    dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
    pCtx = fitCanvas(particlesCanvas);
    wCtx = fitCanvas(wavesCanvas);
    particleCount = computeCount();
    initParticles();
    drawWaves({t:performance.now(), deltaFactor:1});
    drawParticles({t:performance.now(), deltaFactor:1});
  }, 120);
});

// simple low-perf auto-disable
(function lowPerfGuard(){
  const ua = navigator.userAgent || '';
  if (/UCBrowser|Opera Mini|Android\s[1-6]/i.test(ua) || hwThreads <= 1){
    // hide waves and reduce particles to minimum
    wavesCanvas.style.display = 'none';
    particleCount = Math.max(10, Math.round(particleCount * 0.45));
  }
})();

// init
initParticles();
drawWaves({t:performance.now(), deltaFactor:1});
drawParticles({t:performance.now(), deltaFactor:1});
if (!prefersReduced) startLoop();

// avatar placeholder logic
(function avatarPlaceholder(){
  function update(){
    if (!avatarImg || !avatarImg.getAttribute('src') || avatarImg.style.display === 'none') avatarPlaceholder.style.display = 'flex';
    else avatarPlaceholder.style.display = 'none';
  }
  avatarImg.addEventListener && avatarImg.addEventListener('load', update);
  avatarImg.addEventListener && avatarImg.addEventListener('error', update);
  update();
})();

/* === Optional: quick perf-tweak API (for you) ===
   In console you can call:
     setAvatar(url) - to set avatar
     setLinks({insta, tg, group, tel}) - to set hrefs quickly
*/
window.setAvatar = function(url){
  avatarImg.src = url || '';
  setTimeout(()=>{ if(!avatarImg.complete) avatarImg.style.display='none'; }, 300);
};
window.setLinks = function(o){
  try{
    if (o.insta) document.getElementById('btnInsta').href = o.insta;
    if (o.tg) document.getElementById('btnTG').href = o.tg;
    if (o.group) document.getElementById('btnTGgroup').href = o.group;
    if (o.tel) document.getElementById('btnCall').href = 'tel:' + o.tel;
  }catch(e){}
};

/* stop animations on unload */
window.addEventListener('pagehide', () => stopLoop());
</script>
</body>
</html>



